<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.example.companycore.controller.tasks.ApprovalRequestFormController"
      spacing="20" style="-fx-padding: 20;">

    <!-- 상단 헤더 -->
    <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 20 0;">
        <Label text="결재 요청" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
    </HBox>

    <!-- 메인 콘텐츠 (폼) -->
    <VBox spacing="20"
          style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">

        <!-- 폼 전체 -->
        <VBox spacing="24">
            <!-- 제목 -->
            <VBox spacing="6">
                <Label text="제목" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <TextField fx:id="titleField" promptText="제목을 입력하세요" 
                          style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-padding: 8 12;"/>
            </VBox>

            <!-- 부서 -->
            <VBox spacing="6">
                <Label text="부서" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <Label fx:id="departmentLabel" style="-fx-background-color: #f8f9fa; -fx-background-radius: 6; -fx-border-radius: 6; -fx-padding: 8 12; -fx-border-color: #ddd; -fx-border-width: 1; -fx-text-fill: #2c3e50;"/>
            </VBox>

            <!-- 작성 글 -->
            <VBox spacing="6">
                <Label text="내용" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <TextArea fx:id="contentArea" promptText="결재 요청 내용을 입력하세요"
                          prefRowCount="8" wrapText="true"
                          style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-padding: 8 12;"/>
            </VBox>

            <!-- 첨부파일 -->
            <VBox spacing="6">
                <Label text="첨부파일 추가  📎" style="-fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                <VBox fx:id="dropZone" spacing="8" 
                      style="-fx-border-color: #ddd; -fx-border-style: dashed; -fx-border-radius: 6; -fx-padding: 20; -fx-background-color: #f8f9fa;"
                      prefHeight="120">
                    <Label text="여기에 파일을 끌어다 놓거나 클릭하여 추가하세요." 
                           style="-fx-text-fill: #6c757d; -fx-font-size: 12px;"/>

                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <Button fx:id="addFileBtn" text="파일 선택"
                                style="-fx-background-color: #5932EA; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 6 15;"
                                onAction="#onAddFile"/>
                        <Button fx:id="removeFileBtn" text="삭제"
                                style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 6 15;"
                                onAction="#onRemoveFile" disable="true"/>
                    </HBox>

                    <ListView fx:id="attachmentList" visible="false" managed="false"
                              style="-fx-background-color: transparent; -fx-border-color: transparent;"/>
                </VBox>
            </VBox>

            <!-- 하단 버튼 -->
            <HBox alignment="CENTER_RIGHT" spacing="12">
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="cancelBtn" text="취소" 
                        style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 6 15;"
                        onAction="#onCancel"/>
                <Button fx:id="submitBtn" text="요청하기" 
                        style="-fx-background-color: #5932EA; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-padding: 6 15;"
                        onAction="#onSubmit"/>
            </HBox>
        </VBox>
    </VBox>
</VBox> 