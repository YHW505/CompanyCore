<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox spacing="20" style="-fx-padding: 30; -fx-background-color: white;" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.companycore.controller.tasks.MeetingFormController">

    <!-- 제목 -->
    <Label style="-fx-font-size: 20px; -fx-font-weight: bold;" text="회의록" />

    <!-- 일자 -->
    <DatePicker fx:id="datePicker" promptText="날짜 선택" />

    <!-- 제목 -->
    <TextField fx:id="titleField" promptText="제목" />

    <!-- 위치 -->
    <TextField fx:id="locationField" promptText="회의 위치" />

    <!-- 내용 -->
    <TextArea fx:id="descriptionField" promptText="회의 내용을 입력하세요..." prefRowCount="5" />

    <VBox spacing="6">
        <Label styleClass="field-label" text="첨부파일 추가 📎" />
        <VBox fx:id="dropZone" prefHeight="120" spacing="8" styleClass="dropzone">
            <Label styleClass="dropzone-help" text="여기에 파일을 끌어다 놓거나 클릭하여 추가하세요." />

            <HBox alignment="CENTER_LEFT" spacing="8">
                <Button fx:id="addFileBtn" maxWidth="120" onAction="#onAddFile" styleClass="secondary-btn" text="파일 선택" />
                <Button fx:id="removeFileBtn" onAction="#onRemoveFile" text="삭제" />
            </HBox>

            <ListView fx:id="attachmentList" managed="false" visible="false" />
            <Label fx:id="fileInfoLabel" style="-fx-text-fill: #666; -fx-font-size: 12px;" />
        </VBox>
    </VBox>

                   <!-- 업무 캘린더 섹션 -->
    <VBox spacing="15">
        <HBox alignment="CENTER_LEFT" spacing="10">
            <Label style="-fx-font-size: 18px; -fx-font-weight: bold;" text="업무 캘린더" />
            <Button fx:id="addScheduleBtn" onAction="#onAddSchedule" 
                    style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-weight: bold;" 
                    text="+ 일정 추가" />
        </HBox>
        
        <!-- 업무 캘린더 컨테이너 -->
        <VBox fx:id="scheduleContainer" spacing="15">
            <!-- 첫 번째 일정 (기본) -->
            <VBox fx:id="schedule1" spacing="10" style="-fx-padding: 15; -fx-border-color: #e0e0e0; -fx-border-radius: 5; -fx-background-radius: 5; -fx-background-color: #f8f9fa;">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="일정 1" style="-fx-font-weight: bold;" />
                    <Button fx:id="removeSchedule1Btn" onAction="#onRemoveSchedule" 
                            style="-fx-background-color: #dc3545; -fx-text-fill: white;" 
                            text="삭제" />
                </HBox>
                
                <!-- 날짜 선택 영역 -->
                <HBox spacing="20">
                    <!-- 시작일 -->
                    <VBox spacing="5">
                        <HBox spacing="5" alignment="CENTER_LEFT">
                            <Label style="-fx-background-color: #6c757d; -fx-background-radius: 2; -fx-min-width: 12; -fx-min-height: 12;" />
                            <Label text="시작일" />
                        </HBox>
                        <DatePicker fx:id="startDatePicker1" promptText="시작일 선택" />
                    </VBox>
                    
                    <!-- 종료일 -->
                    <VBox spacing="5">
                        <HBox spacing="5" alignment="CENTER_LEFT">
                            <Label style="-fx-background-color: #007bff; -fx-background-radius: 2; -fx-min-width: 12; -fx-min-height: 12;" />
                            <Label text="종료일" />
                        </HBox>
                        <DatePicker fx:id="endDatePicker1" promptText="종료일 선택" />
                    </VBox>
                </HBox>
                
                <!-- 내용 입력 영역 -->
                <VBox spacing="5">
                    <Label text="내용" />
                    <TextArea fx:id="scheduleContentArea1" promptText="일정 내용을 입력하세요..." prefRowCount="6" wrapText="true" />
                </VBox>
                
                <!-- 참여자 추가 버튼 -->
                <HBox alignment="CENTER_RIGHT">
                    <Button fx:id="addParticipantBtn1" onAction="#onAddParticipant" 
                            style="-fx-background-color: #007bff; -fx-text-fill: white; -fx-font-weight: bold;" 
                            text="+ 참여자 추가" />
                </HBox>
                
                <!-- 참여자 목록 영역 -->
                <VBox spacing="5">
                    <Label text="참여자 목록" style="-fx-font-weight: bold;" />
                    <ListView fx:id="participantList1" prefHeight="80" />
                </VBox>
            </VBox>
        </VBox>
    </VBox>

                <!-- 버튼 -->
    <HBox alignment="CENTER_RIGHT" spacing="10">
        <Button fx:id="cancelBtn" onAction="#onCancel" style="-fx-background-color: #6c757d; -fx-text-fill: white;" text="취소" />
        <Button fx:id="submitBtn" onAction="#onSubmit" style="-fx-background-color: #007bff; -fx-text-fill: white;" text="등록하기" />
    </HBox>

</VBox>
